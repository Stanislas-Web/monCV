define("discourse/plugins/discourse-checklist/discourse/initializers/checklist",["exports","discourse/lib/plugin-api","discourse/lib/ajax","discourse/lib/text","discourse-common/lib/icon-library"],function(e,c,t,f,s){"use strict";function n(e,c){if(c){var n=e.find(".chcklst-box"),o=c.getModel();o.can_edit&&(n.each(function(r,e){$(e).click(function(e){var c=$(e.currentTarget),a=c.hasClass("checked")?"[ ]":"[\\*]";c.after((0,s.iconHTML)("spinner",{class:"fa-spin"})).hide(),(0,t.ajax)("/posts/"+o.id,{type:"GET",cache:!1}).then(function(n){var t=[];[/`[^`\n]*\n?[^`\n]*`/gm,/^```[^]*?^```/gm,/\[code\][^]*?\[\/code\]/gm,/_.*?_/gm,/\*[^\]].*?[^\[]\*/gm,/~~.*?~~/gm].forEach(function(e){for(var c=void 0;null!=(c=e.exec(n.raw));)t.push([c.index,c.index+c[0].length])});var s=-1,i=!1,c=n.raw.replace(/\[(\s|\_|\-|\x|\\?\*)?\]/gi,function(c,e,n){return i?c:(s+=t.every(function(e){return e[0]>n+c.length||n>e[1]}))===r?(i=!0,a):c});(0,f.cookAsync)(c).then(function(e){return o.save({cooked:e.string,raw:c,edit_reason:I18n.t("checklist.edit_reason")})})})})}),n.css({cursor:"pointer"}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.checklistSyntax=n,e.default={name:"checklist",initialize:function(){(0,c.withPluginApi)("0.1",function(e){var c;(c=e).container.lookup("site-settings:main").checklist_enabled&&c.decorateCooked(n,{id:"checklist"})})}}}),define("discourse/plugins/discourse-checklist/lib/discourse-markdown/checklist",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.registerOptions(function(e,c){e.features.checklist=!!c.checklist_enabled}),e.whiteList(["span.chcklst-stroked","span.chcklst-box fa fa-square-o fa-fw","span.chcklst-box fa fa-square fa-fw","span.chcklst-box fa fa-minus-square-o fa-fw","span.chcklst-box checked fa fa-check-square fa-fw","span.chcklst-box checked fa fa-check-square-o fa-fw"]),e.registerPlugin(function(e){return e.core.ruler.push("checklist",c)})};var r=/\[(\s?|_|-|x|\*)\]/gi;function o(e,c,n,t){var s=function(e){switch(e.toLowerCase()){case"x":return"checked fa fa-check-square fa-fw";case"*":return"checked fa fa-check-square-o fa-fw";case"-":return"fa fa-minus-square-o fa-fw";case"_":return"fa fa-square fa-fw";default:return"fa fa-square-o fa-fw"}}(n[1]),i=new t.Token("check_open","span",1);i.attrs=[["class","chcklst-box "+s]],e.push(i);var a=new t.Token("check_close","span",-1);e.push(a)}function f(e,c){for(var n=void 0,t=null,s=0;n=r.exec(e);){if(n.index>s){t=t||[];var i=new c.Token("text","",0);i.content=e.slice(s,n.index),t.push(i)}s=n.index+n[0].length,o(t=t||[],0,n,c)}if(t&&s<e.length){var a=new c.Token("text","",0);a.content=e.slice(s),t.push(a)}return t}function c(e){var c,n,t,s,i,a=e.tokens,r=0;for(n=0,t=a.length;n<t;n++)if("inline"===a[n].type)for(c=(s=a[n].children).length-1;0<=c;c--)if(r+=(i=s[c]).nesting,"text"===i.type&&0===r){var o=f(i.content,e);o&&(a[n].children=s=e.md.utils.arrayReplaceAt(s,c,o))}}});
//# sourceMappingURL=https://sjc5.discourse-cdn.com/try/assets/plugins/discourse-checklist-b0161398e218c3b0a77d19cf3f63c48150410f778dd9ec768ff9922da001f434.js.map